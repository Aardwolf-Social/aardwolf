@use gettext::Catalog;
@use gettext_macros::i18n;

@use crate::{NewPost, templates::elements::{alert, input_select, input_text, input_textarea}};

@(catalog: &Catalog, username: &str, post_new: &PostNew)

<article class="media"><!-- Begin reply box -->
  <figure class="media-left">
	<p class="image is-64x64">
	  <img src="https://bulma.io/images/placeholders/128x128.png" alt="{{ user_name }}">
	</p>
  </figure>
        <form method="POST" action="/posts/create">
            @if let Some(ref a) = new_post.alert {
                @:alert(a)
            }
            <input type="hidden" name="csrf_token" value="@new_post.csrf">
            @:input_textarea(&post_reply.source)
            @:input_select(&post_reply.visibility)
            @:input_text(&post_reply.name)
            <button>@i18n!(catalog, "Wooa!")</button>
        </form>
  </div>
</article><!-- End reply box -->
